<!DOCTYPE html>
<html>

<head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>
<style>


.tall {
    height: 400px;
    width: 600px;
    border: solid green
}
.short {
    height: 200px;
    width: 600px;
    border: solid red;
}

</style>
<script>



    // select the target node
var target = document.querySelector('body');
 
 // create an observer instance
 var observer = new MutationObserver(function(mutations) {
     mutations.forEach(function(mutation) {
         console.log(mutation.type);
         var height=document.getElementsByTagName('body')[0].clientHeight;
            â€‚window.top.postMessage([{height}], '*');
     });
 });
  
 // configuration of the observer:
 var config = { attributes: true, childList: true, characterData: true }
  
 // pass in the target node, as well as the observer options
 observer.observe(target, config);
  
 // later, you can stop observing
 observer.disconnect();

setInterval(function(){ $(this).toggleClass('short'); }, 3000);


</script>

<body id="element" class="content tall">
</body>

</html>
