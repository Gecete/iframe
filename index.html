<!DOCTYPE html>
<html>

<head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>
<style>


.tall {
    height: 400px;
    width: 600px;
    border: solid green
}
.short {
    height: 200px;
    width: 600px;
    border: solid red;
}

</style>
<script>


$(document).ready(function(){
    // Select the node that will be observed for mutations
    var targetNode = document.getElementsByTagName('body')[0];

    // Options for the observer (which mutations to observe)
    var config = { attributes: true, childList: true };

    // Callback function to execute when mutations are observed
    var callback = function() {       
        var height=document.getElementsByTagName('body')[0].clientHeight;
        if(window.postMessage){
        window.top.postMessage([{height}], '*'); 
        }
    };

    if(window.MutationObserver){
        // Create an observer instance linked to the callback function
        var observer = new MutationObserver(callback);
        callback();
        // Start observing the target node for configured mutations
        observer.observe(targetNode, config);
    }
})
setInterval(function(){
 $('body').toggleClass('short');
  }, 3000);


</script>

<body id="element" class="tall">
</body>

</html>
